for kernel 4.19

file description:
nl80211.c: interface for wireless generic netlink programming, in /net/wireless dir, is cfg80211 module 
nl80211.h: the data structure for nl80211.c, in /net/wireless dir, is cfg80211 module 
genetlink.h: genl data structure, in your system /usr/src/linux-head-xxx/include/net dir
genetlink.c: genl operation, the interface for nl80211.c, in linux-source/net/netlink dir, is netlink_diag module


编译cfg80211模块

进入内核的源码目录net/wireless
1.修改trace.h文件中的最后的路径为当前目录的路径
2.把Makefile删掉
添加这个Kbuild文件
然后执行下面的命令
make -C /lib/modules/'uname -r'/build/ M=$PWD

TO DO
分析nl80211_send_wiphy函数
